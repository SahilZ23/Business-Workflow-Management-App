<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>Customer Navigation</title>
    <link rel="stylesheet" href="static/css/bootstrap.css">
    <link href="static/style.css" rel="stylesheet" type="text/css" />
    <style>
        #map {
            height: 400px;
            width: 100%;
        }
    </style>
</head>
<body>
    <div id="header" class="text-center mb-4">
        <h1>Customer Navigation</h1>
    </div>

    <div class="container pane-center">
        <div id="map"></div>
        <br>
        <button onclick="getDirections()" class="btn btn-primary mb-3">Get Directions</button>
    </div>

    <script>
        let map;
        let userLocation = { lat: parseFloat('{{ user_lat }}'), lng: parseFloat('{{ user_lng }}') };
        let customerLocation = { lat: parseFloat('{{ customer_lat }}'), lng: parseFloat('{{ customer_lng }}') };

        function initMap() {
            map = new google.maps.Map(document.getElementById('map'), {
                center: customerLocation,
                zoom: 8
            });

            new google.maps.Marker({
                position: customerLocation,
                map: map,
                title: 'Customer Location'
            });
        }

        function getDirections() {
            window.open(`https://www.google.com/maps/dir/?api=1&origin=${userLocation.lat},${userLocation.lng}&destination=${customerLocation.lat},${customerLocation.lng}`);
        }
    </script>

    <!-- Replace YOUR_GOOGLE_MAPS_API_KEY with your actual API key -->
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD6v15JNhOvb1ex_lELHwV6RqF3DUBq-hQ&callback=initMap" async defer></script>

    <!-- Bootstrap framework -->
    <script src="static/js/jquery-3.5.1.slim.min.js" type="text/javascript"></script>
    <script src="static/js/bootstrap.bundle.min.js" type="text/javascript"></script>
</body>
</html>
